# Performance Data Directory

This directory contains consolidated JSON files with complete HKJC race data extracted from the Hong Kong Jockey Club website.

## File Naming Convention

```
performance_YYYY-MM-DD_RC_RN.json
```

Where:
- `YYYY-MM-DD`: Race date (e.g., 2025-06-04)
- `RC`: Racecourse code (`ST` = Sha Tin, `HV` = Happy Valley)
- `RN`: Race number (e.g., R1, R2, R3...)

## Data Structure

Each JSON file contains comprehensive race data:

### Race Metadata
- `race_name`: Official race name
- `race_date`: Date in YYYY/MM/DD format
- `racecourse`: ST (Sha Tin) or HV (Happy Valley)
- `race_number`: Race number (1-11)
- `distance`: Race distance in meters
- `race_class`: Race class (1-5)
- `track_condition`: Track condition rating
- `going`: Track going description

### Horse Performance Data
- Individual horse records with finishing positions
- Jockey and trainer information
- Horse weights and handicaps
- Running times and margins
- Sectional times (when available)

### Payout Information
- Win, Place, Quinella payouts
- Exotic bet payouts (Tierce, Quartet, etc.)
- Pool sizes and dividend information

### Incident Reports
- Race incident descriptions (競賽事件報告)
- Stewards' reports and inquiries
- Horse behavior and racing incidents

### Statistical Analysis
- Speed analysis and ratings
- Margin analysis
- Field strength analysis
- Performance trends

## Sample Files Included

This repository includes sample files from June 2025 to demonstrate the data structure:
- `performance_2025-06-04_HV_R1.json` - Happy Valley Race 1
- `performance_2025-06-04_HV_R2.json` - Happy Valley Race 2
- `performance_2025-06-08_ST_R1.json` - Sha Tin Race 1
- `performance_2025-06-08_ST_R2.json` - Sha Tin Race 2
- `performance_2025-06-11_HV_R1.json` - Happy Valley Race 1
- `performance_2025-06-14_ST_R1.json` - Sha Tin Race 1

## Full Dataset

The complete dataset contains over 1,600 race files spanning from 2023 to 2025, totaling approximately 31MB. Only sample files are included in this repository to demonstrate the data structure.

## Usage

These files are used by the `upload_all_simple.py` script to populate 8 PocketBase collections:
1. `race_performance` - Race-level data
2. `race_performance_analysis` - Statistical analysis
3. `race_horse_performance` - Individual horse records
4. `race_incidents` - Incident records
5. `race_incident_analysis` - Incident analysis
6. `race_payouts` - Payout summaries
7. `race_payout_pools` - Individual pool records
8. `race_payout_analysis` - Payout analysis

## Generation

Files are generated by:
- `hkjc_race_results_scraper.py` - Main scraper
- `batch_extract_races.py` - Batch processing
- `run_complete_pipeline.sh` - Automated pipeline
